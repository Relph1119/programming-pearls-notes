# 第2章 啊哈！算法

## 2.1 三个问题

问题A：给定一个最多包含40亿个随机排列的32位整数的顺序文件，找出一个不在文件中的32位整数。

问题B：将一个$n$元一维向量向左旋转$i$个位置。（移位操作）

问题C：给定一个英语字典，找出其中的所有变位词集合。

## 2.2 【问题A分析】无处不在的二分搜索

- 文件包含最多40亿个随机排列的32位整数，如果有足够内存，可以使用位图技术。
- 使用二分搜索技术，需要定义一个范围、在该范围内表示元素的方式以及用来确定哪一半范围存在缺失整数的探测方法。

## 2.3 【问题B分析】基本操作的威力

问题描述：问题B仅使用几十个字节的额外空间将一个$n$元向量$x$在正比于$n$的时间内向左旋转$i$个位置。

解决方法：
- 方法1：移动$x[0]$到临时变量$t$，然后移动$x[i]$至$x[0]$，$x[2i]$至$x[i]$，依此类推，直到返回取到$x[0]$中的元素，此时改为从$t$取值然后终止过程。
- 方法2：旋转向量$x$其实就是交换$ab$的两端，得到向量$ba$，假设$a$比$b$短，将$b$分为$b_l$和$b_r$，使得$b_r$具有与$a$相同的长度，交换$a$和$b_r$，也就将$a b_l b_r$转换为$b_r b_l a$。
- 方法3：对$a$求逆，得到$a^rb$，然后对$b$求逆，得到$a^rb^r$，最后整体求逆，得到$(a^rb^r)^r$，此时恰好为$ba$。

## 2.4 【问题C分析】排序

问题分析：标识字典中的每一个词，使得在相同变位词类中的单词具有相同的标识，然后将所有相同标识的单词集中在一起。

解决方法：
1. 使用基于排序的标识：将单词中的字母按照字母表顺序排序。
2. 将所有的单词按照其标识的顺序排序。
